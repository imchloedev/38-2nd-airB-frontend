# AirB

- 프로젝트 사이트: **Airbnb**
- 소개: 세계 최대의 숙박 공유 서비스이며, 자신의 방이나 집, 별장 등 사람이 지낼 수 있는 모든 공간을 공유할 수 있는 플랫폼입니다.

<br/>

## 프로젝트 선정 이유
- 다양한 숙박 공유 서비스 중, 가장 직관적인 UI와 User Friendly 한 환경을 제공합니다.
- 폭넓은 숙박 필터링 검색을 제공하며, 사용자가 원하는 위치, 날짜, 테마, 가격, 시설 등을 선택해서 최적화된 결과를 보여줍니다.

<br/>

## 개발 기간

- 2022/10/31 ~ 2022/11/11

<br/>

## 참여 개발자

### Front-end Developers

|👑 김도영(FE)|강은지(FE)|정관훈(FE)|김우진(FE)|
| :--: | :--: | :--: | :--: |
|<img width="95px" height="95px" src="https://avatars.githubusercontent.com/u/110547785?v=4" alt="avatar" />               |<img width="95px" height="95px" src="https://avatars.githubusercontent.com/u/70960594?v=4" alt="avatar" />                |<img width="95px" height="95px" src="https://avatars.githubusercontent.com/u/110619143?v=4" alt="avatar" />               |<img width="95px" height="95px" src="https://avatars.githubusercontent.com/u/111094669?v=4" alt="avatar" />              |
| [<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>](https://github.com/doyoungkim1994) | [<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>](https://github.com/imchloedev) | [<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>](https://github.com/gwanhun1) | [<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>](https://github.com/w00jinkim) |


### Back-end Developers

|정도영 (BE) |김희연 (BE)| 김성훈 (BE) |
| :--: | :--: | :--: |
|<img width="95px" height="95px" src="https://avatars.githubusercontent.com/u/110891019?v=4" alt="avatar" />               |<img width="95px" height="95px" src="https://avatars.githubusercontent.com/u/109201576?v=4" alt="avatar" />                |<img width="95px" height="95px" src="https://avatars.githubusercontent.com/u/107197044?v=4" alt="avatar" />               |
| [<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>](https://github.com/JeongDoYoung2) | [<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>](https://github.com/Cein1) | [<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>](https://github.com/Hey-Hello-World) |

<br/>

## Project Archive

- [Notion](https://www.notion.so/2-b9e11f1779e14cd8bf72ada22f4f387b)
- [Trello](https://trello.com/invite/b/dd0UK0ZP/ATTI7d11b7ecc901f3c2f86fda22dd15d7435E174AE5/airborb)
- [Figma](https://www.figma.com/file/2gwQGwQsNv226erUbxjniQ/AirBorB?node-id=0%3A1)
- [ERD](https://dbdiagram.io/d/635f5d885170fb6441c6c96e)


## Demo Video
- [Youtube](https://youtu.be/satdp1W4fBg)

<br/>

## 적용 기술

### Front-End

|JavaScript|React|Styled <br/> Components|esLint|Prettier|
| :--: | :--: | :--: | :--: | :--: |
| <img src="https://techstack-generator.vercel.app/js-icon.svg" alt="icon" width="65" height="65" /> | <img src="https://techstack-generator.vercel.app/react-icon.svg" alt="icon" width="65" height="65" /> | <img src="https://styled-components.com/logo.png" alt="icon" width="65" height="65" /> | <img src="https://techstack-generator.vercel.app/eslint-icon.svg" alt="icon" width="65" height="65" /> | <img src="https://techstack-generator.vercel.app/prettier-icon.svg" alt="icon" width="65" height="65" /> |

### Back-End

|JavaScript|Nodejs|MySql|Rest|
| :--: | :--: | :--: | :--: |
| <img src="https://techstack-generator.vercel.app/js-icon.svg" alt="icon" width="65" height="65" /> | <img src="https://techstack-generator.vercel.app/nginx-icon.svg" alt="icon" width="65" height="65" /> | <img src="https://techstack-generator.vercel.app/mysql-icon.svg" alt="icon" width="65" height="65" /> | <img src="https://techstack-generator.vercel.app/restapi-icon.svg" alt="icon" width="65" height="65" /> |

### Common

- common : <img src="https://img.shields.io/badge/Git-F05032?style=flat&logo=Git&logoColor=white"/> <img src="https://img.shields.io/badge/GitHub-181717?style=flat&logo=GitHub&logoColor=white"/> <img src="https://img.shields.io/badge/AWS-232F3E?style=flat&logo=AmazonAWS&logoColor=white"/> <img src="https://img.shields.io/badge/ESLint-4B32C3?style=flat&logo=AmazonAWS&logoColor=white"/> <img src="https://img.shields.io/badge/Prettier-F7B93E?style=flat&logo=prettier&logoColor=white"/>
- 협업툴 : <img src="https://img.shields.io/badge/Notion-000000?style=flat&logo=Notion&logoColor=white"/> <img src="https://img.shields.io/badge/Slack-4A154B?style=flat&logo=Slack&logoColor=white"/> <img src="https://img.shields.io/badge/Trello-0052CC?style=flat&logo=Trello&logoColor=white"/> <img src="https://img.shields.io/badge/Figma-F24E1E?style=flat&logo=Figma&logoColor=white"/> <img src="https://img.shields.io/badge/PostMan-FF6C37?style=flat&logo=PostMan&logoColor=white"/>

<br/>

## 구현 기능 (Front-end & Back-end)
| |페이지 및 기능 구현| 설명 | 담당 개발자 |
| :--: | :--: | :--: | :--: |
| Social Login w/ Kakao API | ![login](https://user-images.githubusercontent.com/70960594/201516847-1f3a93fe-cd8e-44a5-b084-41c97009c3de.gif) | - 카카오 소셜 로그인 API를 활용한 회원가입, 로그인 기능 구현 | **FRONT-END** </br> `강은지` </br> **BACK-END** </br> `김희연`|
| Filtering | ![filter](https://user-images.githubusercontent.com/70960594/201517069-339d6e3d-8947-489d-ba76-ece630af5744.gif) | - 지역, 날짜, 게스트 수에 의한 필터링 기능 구현 <br/> - Date Picker 라이브러리 활용 <br/> - query string 활용 |  **FRONT-END** </br> `강은지`, `김우진` </br> **BACK-END** </br> `김성훈` |
| Main Page | ![mainlist](https://user-images.githubusercontent.com/70960594/201517151-fea4095b-c31e-4438-b0ff-7608c74ae520.gif) | - | **FRONT-END** </br> `김우진`  </br> **BACK-END** </br> `김성훈` |
| Hosting Page | ![host](https://user-images.githubusercontent.com/70960594/201516943-1409b97c-c95f-4be8-bab2-1d3046c19077.gif) |  - Context를 통한 멀티스텝폼 구현, drag&drop 으로 이미지 5개 저장 및 formdata 활용 백엔드 전송  | **FRONT-END** </br> `정관훈` </br> **BACK-END** </br> `정도영`|
| Map & Filtering | ![mainmap](https://user-images.githubusercontent.com/70960594/201517296-d6b1bea2-da3a-40fd-ba17-4741d3e22acb.gif) | - Kakao Map API를 활용한 지도 구현 <br/> - 지도 위치에 따른 필터링 기능 구현 |**FRONT-END** </br>`정관훈` </br> **BACK-END** </br> `김성훈` |
| Detail Page & Reservation Request | ![detail](https://user-images.githubusercontent.com/70960594/201517416-598cbb31-2576-4c65-890a-e9556ba5688b.gif) | - | **FRONT-END** </br> `김도영` </br> **BACK-END** </br> `정도영` |
| Reservation inquiry Page | ![Booking](https://user-images.githubusercontent.com/70960594/201517442-43439c0a-226c-40a2-ac91-33dd5339cbbd.gif) | - 예약이 완료된 숙박에 대한 데이터 UI 구현 | **FRONT-END**`강은지`  </br> **BACK-END** </br> `정도영` |


## 담당 기능 상세 설명

1. REST API로 카카오 소셜 로그인(회원가입) 구현
- 카카오로부터 발급받은 `API Key`와 `Redirect URI`를 사용해 로그인 또는 회원가입 버튼을 클릭 시 Kakao Auth URL로 이동합니다. 
- 로그인에 성공하면 해당 `Redirect URI`로 인가코드를 발급 받습니다. (`useSearchParams`를 사용해 인가코드를 `code`라는 변수에 할당)
- `Redirect URI`와 동일한 파라미터로 라우터 설정을 해서 로그인이 진행되는 동안 로딩화면을 보여줍니다.
- 인가코드가 담긴 `code`를 백엔드로부터 받은 API로 전송합니다. (GET method 사용)
- 해당 인가코드를 넘겨주고, 카카오로부터 토큰을 받아서 프로젝트에서 사용할 새로운 토큰을 전송 받습니다. 
- 해당 토큰을 `localStorage`에 저장합니다. (이때 host 모드에서 사용할 userId도 함께 저장합니다.) 성공적으로 저장이 되면 메인 홈으로 이동합니다. 

2. GNB UI와 지역, 날짜, 게스트 수에 따른 필터링 기능 구현
<div align="center">GNB Components Structure</div>

</br>

<div align="center"><img width="600" alt="gnb_flowchart" src="https://user-images.githubusercontent.com/70960594/202838201-1cfb4664-267e-491d-b0fa-52cba494271c.png"></div>

- 위치, 체크인 & 체크아웃 날짜, 게스트 수 필터는 Search Bar를 클릭하면 상세한 설정이 가능한 모달창이 뜨도록 했습니다. 

- 상세 필터가 가능한 위치, 날짜, 게스트 인원 수를 설정할 수 있는 컴포넌트들을 하나의 폴더에 모아서 관리하도록 했습니다. 

- 위치는 `서울`, `경기`, `인천` 중에서 선택하고 날짜는 `reace-datepicker`를 사용해서 선택하고, 게스트 수는 12명 이내로 선택하게 하여 state로 저장했습니다.

- 저장된 state value들은 백엔드의 해당 API로 데이터가 전송이 되고, 프론트에서는 response를 받아서 필터링 된 query와 UI 보여줍니다. 

  - 필터링 되어지는 모든 `query`들은 하나의 object에 할당해서 object를 string으로 변환하는 유틸함수로 관리하였습니다.  
  
- Profile 모달 창은 사용자의 로그인 여부에 따라 다른 UI 보여주기 위해서 2개의 컴포넌트로 분리했습니다. localStorage에서 token을 검사하고 토큰의 여부에 따라 다른 UI를 보여줍니다.  


3. 예약 완료 페이지
- 상세페이지에서 예약이 완료된 데이터를 조회해서 예약이 완료된 목록을 보여줍니다.
- 예약된 목룍이 없는 경우, data의 length 값을 검사해서 Empty 페이지를 보여줍니다. 


4. `react-modal` 라이브러리를 활용한 공용 모달 컴포넌트 생성

5. util 함수 생성
- 날짜 형식의 데이터를 string으로 변환하는 함수
- 객체 형태의 query를 string으로 변환하는 함수

